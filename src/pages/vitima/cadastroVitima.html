<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Cadastro de Vítimas</title>
    <img src="/src/shared/images/logo.png" width="100px" alt="logo"
       
</head>
<body>
    <div class="container-fluid col-md-8 mt-5 pt-5">
        <h1>Cadastro de Vítimas</h1>
        <p>Um sistema de cadastro de vítimas, permitindo que países e policiais registrem e compartilhem informações de vítimas internacionalmente para promover a colaboração e o apoio global.</p>    
        <form id="cadastroVitimaForm" action="/api/vitima/create" method="post">
            <div class="form-group">
                <label for="nomeCompleto">Nome Completo:*</label>
                <input type="text" id="nomeCompleto" name="nomeCompleto" class="form-control" placeholder="Informe o nome completo" required>
            </div>
            <div class="form-group">
                <label for="id_paisDeOrigem">País de Origem:*</label>
                <input type="text" id="id_paisDeOrigem" name="id_paisDeOrigem" class="form-control" placeholder="Informe o país de origem" required>
            </div>
            <div class="form-group">
                <label for="id_autorDoCrime">Autor do Crime:*</label>
                <input type="text" id="id_autorDoCrime" name="id_autorDoCrime" class="form-control" placeholder="Informe o autor do crime" required>
            </div>
            <div class="form-group">
                <label for="nacionalidade">Nacionalidade:*</label>
                <input type="text" id="nacionalidade" name="nacionalidade" class="form-control" placeholder="Informe a nacionalidade" required>
            </div>
            <div class="form-group">
                <label for="altura">Altura:*</label>
                <input type="text" id="altura" name="altura" class="form-control" placeholder="Informe a altura" required>
            </div>
            <div class="form-group">
                <label for="genero">Gênero:*</label>
                <select id="genero" name="genero" class="form-control" required>
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>
            </div>
            <div class="form-group">
                <label for="idade">Idade:*</label>
                <input type="number" id="idade" name="idade" class="form-control" placeholder="Informe a idade" required>
            </div>
            <div class="form-group">
                <label for="id_paisVistoPorUltimo">País Visto por Último:*</label>
                <input type="text" id="paisVistoPorUltimo" name="paisVistoPorUltimo" class="form-control" placeholder="Informe o país visto por último" required>
            </div>
            <div class="form-group">
                <label for="status">Status:*</label>
                <select id="status" name="status" class="form-control">
                    <option selected>Selecionar</option>
                    <option>Sequestrado(a)</option>
                    <option>Desaparecido(a)</option>
                    <option>Repatriado(a)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="foto">Foto:</label>
                <input type="text" id="foto" name="foto" class="form-control" placeholder="Informe a URL da foto" required>
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    
    <script>
        document.getElementById("cadastroVitimaForm").addEventListener("submit", function (event) {
          event.preventDefault(); // Impede o envio padrão do formulário
      
          // Coleta os valores dos campos
          const nomeCompleto = document.getElementById("nomeCompleto").value;
          const id_paisDeOrigem = document.getElementById("id_paisDeOrigem").value;
          const id_autorDoCrime = document.getElementById("id_autorDoCrime").value;
          const nacionalidade = document.getElementById("nacionalidade").value;
          const altura = document.getElementById("altura").value;
          const genero = document.getElementById("genero").value;
          const idade = document.getElementById("idade").value;
          const id_paisVistoPorUltimo = document.getElementById("paisVistoPorUltimo").value;
          const statusDaVitima = document.getElementById("status").value;
          const foto =  document.getElementById("foto").value;

          // Coleta os valores dos outros campos do formulário da mesma forma

          // Cria um objeto com os valores
          const data = {
           
            id_paisDeOrigem: id_paisDeOrigem,
            id_autorDoCrime: id_autorDoCrime,
            nomeCompleto: nomeCompleto,
            nacionalidade: nacionalidade,
            altura: altura,
            genero: genero,
            idade: idade,
            id_paisVistoPorUltimo: id_paisVistoPorUltimo,
            statusDaVitima:statusDaVitima,
            foto: foto // foto uploaded
          };

          // Envia os dados como JSON em uma solicitação POST
          axios.post("http://localhost:3337/api/vitima/", data)
            .then(function (response) {
              // Trate a resposta do back-end, se necessário
              console.log("Cadastro de vítima bem-sucedido!", response.data);
            })
            .catch(function (error) {
        
                
              console.error("Erro ao cadastrar vítima:", error);
            });
        });
    </script>
    

</body>
</html>
